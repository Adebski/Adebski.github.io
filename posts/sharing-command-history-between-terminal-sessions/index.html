<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=HandheldFriendly content="True"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer-when-downgrade"><title>How to share bash history between terminal sessions - ItDepends</title>
<meta name=description content="ItDepends is a blog about various topics related to software engineering."><link rel=alternate type=application/rss+xml href=https://blog.adebski.com/posts/sharing-command-history-between-terminal-sessions/index.xml title=ItDepends><link rel=icon type=image/x-icon href=https://blog.adebski.com/favicon.ico><link rel=apple-touch-icon-precomposed href=https://blog.adebski.com/favicon.png><link rel=stylesheet href="https://blog.adebski.com/css/style.css?rnd=1741362816"><meta property="og:url" content="https://blog.adebski.com/posts/sharing-command-history-between-terminal-sessions/"><meta property="og:site_name" content="ItDepends"><meta property="og:title" content="How to share bash history between terminal sessions"><meta property="og:description" content="This is a quick guide how to set up your bash shell to access the same history of commands throughout terminal sessions"><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-03-07T00:00:00+00:00"><meta property="article:modified_time" content="2025-03-07T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="How to share bash history between terminal sessions"><meta name=twitter:description content="This is a quick guide how to set up your bash shell to access the same history of commands throughout terminal sessions"><link rel=stylesheet href=https://blog.adebski.com/css/overrides.min.46bddf09875384022135fff5ebb739c4af83bf8632f1d38d3835320f379b8af8.css><script type=text/javascript src=https://blog.adebski.com/js/codeCopy.min.5353c462b0d40da2e3105de29e7877252c1ab2d82333d9869aa4127f1905a690.js></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-891PSZFW6E"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-891PSZFW6E")</script><link rel=alternate type=application/rss+xml href=https://blog.adebski.com//index.xml title="ItDepends Feed"></head><body><a class=skip-main href=#main>Skip to main content</a><div class=container><header><div class=site-header-div><h1 class=site-header><a href=/>ItDepends</a></h1><nav><a href=https://blog.adebski.com/posts/ title>Archive</a>
<a href=https://blog.adebski.com/about/ title>About</a></nav></div></header><main id=main tabindex=-1><article class=post><header><h1 class=post-title>How to share bash history between terminal sessions</h1></header><div class=content><p>When working across multiple terminal sessions on a remote Linux instance, it’s convenient to share the same command history everywhere. By default, each bash session (check via <code>tty</code>) has its own in-memory history. It only writes to <code>~/.bash_history</code> when you exit, meaning other sessions won’t see any new commands until you close the first session.</p><p>I often find myself working with &ldquo;headless&rdquo;/remote Linux instances across multiple terminal sessions. I want to share the command history across terminal sessions for convinence. I treat the history as a &ldquo;cache&rdquo; of commands that I&rsquo;d like to have access to. Usually I can remember portion of a command (like path to a file or argument) and would like to run it again or just tweak it.</p><p>Given that my go-to modification that I put in <code>.bash_rc</code> file is</p><pre tabindex=0><code># append to the history file, don&#39;t overwrite it
shopt -s histappend
# Extend the history size 
HISTSIZE=10000
HISTFILESIZE=20000
# append, clear, re-load history from history file
PROMPT_COMMAND=&#34;history -a; history -c; history -r; $PROMPT_COMMAND&#34;
</code></pre><p>Above means that after each command is executed (or more precisely before next terminal prompt after command is executed) in terminal X it&rsquo;s immediately written to the history file (which would make it visible for new terminal sessions). Then, in-memory history contents are cleared and the history file is read. If a terminal Y added commands they will now be available in terminal X. Terminal Y will then re-read the history contents after you execute the next command or hit <code>enter</code> button.</p><p>I&rsquo;m aware that this handling of terminal history may not be for everyone but it makes me much more productive when I&rsquo;m juggling multiple terminals and mostly care about running similar or same commands over long period of time.</p></div><div class=post-info><div class=post-date>2025-03-07</div><div class=post-taxonomies></div></div></article><div id=disqus_thread></div><script>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//ItDepends.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></main><footer><p>Powered by <a target=_blank href=https://gohugo.io/>Hugo</a>, theme <a target=_blank href=https://github.com/mitrichius/hugo-theme-anubis>Anubis</a>.</p></footer></div></body></html>